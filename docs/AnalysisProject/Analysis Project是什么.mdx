---
title: Analysis Project是什么
sidebar_position: 1
toc_min_heading_level: 2
toc_max_heading_level: 5
---

Analysis Project想要做的事情就是如何在大量的数据中快速识别出特定的内容或者对大量数据验证丰富的自定义逻辑，然后输出最后的匹配结果和统计数据，并且用尽可能低的成本来完成它。

所以Analysis Project是什么就包含在上面一句话中，现在对其中的关键信息进行解释：

1. **大量的数据**：对应的含义就是数据处理能力够高，那数据处理能力就是两点：一个是单位的处理能力即本身的高性能，另一个是扩展能力即扩展硬件资源就能获得数据处理能力的提升，这个要处理的就是避免边际效应递减即避免随着资源投入收获越来越小。这个Analysis Project要达到的数据处理能力目标。具体Analysis Project的提高处理性能的思路：
    - 一个是要将要处理的数据都先做分析，先把数据处理并生成方便后续查询的格式和内容
    - 避免要处理的逻辑中存在大量的外部外部api接口依赖、繁重的io数据查询；通过数据建模和使用合适的数据存储引擎来解决。
    - 在内部流程中因为存在复杂的流程拓扑，本身执行过程就存在大量的依赖关系和数据同步，导致有大量的并发竞争和同步阻塞；Analysis Project的思路是通过更高效的并发框架来处理，比如Disruptor。
2. **识别特定内容**：这里的内容主要就是文本或者叫字符，当然也可以是其他的格式的数据内容只是需要转化一下，比如将语音的数据通过`asr识别`处理成文本。而如何识别文本内容，实际要就是对大量文本内容的搜索，Analysis Project的思路就是使用Lucene引擎来根据数据内容分析并作自定义的检索。
3. **验证自定义逻辑**：这里的自定义逻辑主要还是指复杂的业务逻辑，其实像组合逻辑关系对一个分析或者质检系统来说是比较简单的；真正难得在于处理大量的业务逻辑，这需要写很多自定义的逻辑处理单元或者叫算子，而要想写出高性能的算子就必须要处理大量的业务数据的依赖、外部查询、复杂运算等等。这里有几点是需要特别注意的：
    - 对于大量的自定义逻辑的算子需要有一套交互协议来管理算子，如同spring定义了对象的IOC容器协议，算子也需要一套良好定义的协议来确认如何动态新增算子、对象传递、属性修改查询、方法调用等。
    - 算子内部必须做到执行高效，因为其是整个Analysis Project的最小逻辑执行单元。
4. **处理匹配结果**：处理匹配结果涉及两点
    - 处理结果的组合和流程控制，每个处理单元或者算子处理完结果之后其结果往往还有很多依赖和组合关系，如何控制并发和保证性能。
    - 结果的展示，当完成整个流程时，往往需要丰富的结果呈现；这看起来不难，但需要大量的编码工作，特别是前后端的协调，对齐协议：如何定义组件、动作、传值、取值、效果渲染。
5. **数据统计**：上面的流程基本都可以归为OLTP操作，但数据统计则是OLAP类型的操作。在大量数据中，准确而且实时地聚合出统计数据是一个巨大的挑战，特别是考虑到数据还在不断变动当中。这里的挑战还不完全是数据量大的问题，而还因为准确实时的同时还要处理对历史数据的修改。因为质检分析类的项目，往往涉及到业务的审核，就是最后往往是需要因为人员来审核并确认结果，这就会涉及到对历史数据的修改；很多数据库比如时序性的数据库是不支持修改的，而支持修改的数据库往往性能不达标；所以这需要认真建立数据模型、选择数据库类型、并且做权衡的(比如准确性和实时性，想要实时准确往往成本很高对内存可能要求很多、但放弃完全准确而只要求大致准确则可以使用估算而大大降低成本)。
6. **低成本**：成本分为两块
    - 硬件资源成本：这个很好理解、CPU、磁盘这些硬件资源；以及购买的弹性计算云、OSS对象存储、数据库等这些云端资源。而对于资源成本来说，本质上就是效率就是程序处理性能，性能越高单位成本就越低
    - 运行成本：这里运行成本主要是涉及人员的，不仅仅是需要多少个人，还要包含人员的工作强度，需要天天加班、常常熬夜的项目，其隐藏成本是非常高的，而且随之而来的必然就是人员频繁变动、项目稳定性恶化等导致运行成本继续增加。我理解要运行成本的降低，本质上就减少无用功、很多加班很多功能其实是无关紧要的，那些无用功做的越多真的有效的事情做的就越少。项目怎么减少无用功，我感觉这就是一个人月神话了。

所以analysis project想要做的，就是追求卓越地完成上面的每一点。后面的所有叙述都是围绕上面的内容来展开的，当然还有一些附属的功能，那些附属功能可能也不简单，比如：类似OA数据和OA流程的创建、数据定制化输出、结果或者告警推送、风控或者评价体系对接等等，但这里我觉得没有必要提，因为太多的额外功能往往会让项目不堪重负而稀释掉核心功能，这些附属功能可以让已有的或者专门系统来处理，一个项目让其成功的一定是其最核心的功能而不是它具有很多泛泛的功能。

**简而言之，analysis project是要做出一个高并发、高性能、高复杂度而且低成本的分析项目。**



