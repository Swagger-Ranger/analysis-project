<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-DevOps/JVM数据分析" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">JVM数据分析 | Analysis Project</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://Swagger-Ranger.github.io/analysis-project/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://Swagger-Ranger.github.io/analysis-project/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://Swagger-Ranger.github.io/analysis-project/docs/DevOps/JVM数据分析"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="JVM数据分析 | Analysis Project"><meta data-rh="true" name="description" content="分析堆内存数据"><meta data-rh="true" property="og:description" content="分析堆内存数据"><link data-rh="true" rel="icon" href="/analysis-project/img/apachecassandra-color.svg"><link data-rh="true" rel="canonical" href="https://Swagger-Ranger.github.io/analysis-project/docs/DevOps/JVM数据分析"><link data-rh="true" rel="alternate" href="https://Swagger-Ranger.github.io/analysis-project/docs/DevOps/JVM数据分析" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://Swagger-Ranger.github.io/analysis-project/docs/DevOps/JVM数据分析" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/analysis-project/blog/rss.xml" title="Analysis Project RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/analysis-project/blog/atom.xml" title="Analysis Project Atom Feed"><link rel="stylesheet" href="/analysis-project/assets/css/styles.460af289.css">
<script src="/analysis-project/assets/js/runtime~main.9bd9d26e.js" defer="defer"></script>
<script src="/analysis-project/assets/js/main.31d2dea2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/analysis-project/"><div class="navbar__logo"><img src="/analysis-project/img/apachecassandra-color.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/analysis-project/img/apachecassandra-color.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/analysis-project/docs/projectDesign/whatIs">All for analysis</a><a class="navbar__item navbar__link" href="/analysis-project/docs/middleware/disruptor">Middlewares</a><a class="navbar__item navbar__link" href="/analysis-project/docs/category/juc">Codes</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/analysis-project/docs/DevOps/JavaOptimizing">DevOps</a><a class="navbar__item navbar__link" href="/analysis-project/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/analysis-project/about">关于作者</a><a href="https://github.com/Swagger-Ranger/analysis-project" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/analysis-project/docs/DevOps/JavaOptimizing">Java optimizing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/analysis-project/docs/DevOps/Linux系统探测工具">Linux系统探测工具</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/analysis-project/docs/DevOps/JVM数据分析">JVM数据分析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/analysis-project/docs/DevOps/Harbor手册">Harbor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/analysis-project/docs/DevOps/容器中的日志">容器中的日志</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/analysis-project/docs/DevOps/空白环境Jenkins流水线搭建">空白环境Jenkins流水线搭建</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/analysis-project/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">JVM数据分析</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>JVM数据分析</h1></header><h3 class="anchor anchorWithStickyNavbar_LWe7" id="分析堆内存数据">分析堆内存数据<a href="#分析堆内存数据" class="hash-link" aria-label="分析堆内存数据的直接链接" title="分析堆内存数据的直接链接">​</a></h3>
<p>使用<code>VisualVM</code>诊断工具分析jvm内存溢出</p>
<div style="text-align:center;width:100%"><img src="/analysis-project/img/jvm/jvm-5.png" alt="image" style="max-width:82%;height:auto;display:block;margin:0 auto"></div>
<p>上图是一个<code>VisualVM</code>打开<code>dump</code>文件后选择对象视图的样子，一遍分析潜在的内存泄漏就通过此分析。</p>
<p>对应的四列含义如下：</p>
<ul>
<li><strong>Name</strong>：对象的类名，识别对象类型。</li>
<li><strong>Count</strong>：对象实例的数量，判断是否有过多实例。</li>
<li><strong>Size</strong>：所有实例占用的总内存，评估内存消耗。</li>
<li><strong>Retained</strong>：删除对象可以释放的内存量，识别内存泄漏的根源。-- 这个是个关键指标，就是此对象导致不能被回收的对象有多少</li>
</ul>
<blockquote>
<p>Retained Size 的计算：</p>
<p>通过分析对象图（object graph）并确定在删除某个对象后哪些对象将不可达（即成为垃圾），那此对象本身加上其删除之后的那些不可达对象所占用的空间大小就是Retained Size。</p>
<p>如果一个对象被多个活跃对象引用，那么它的大小不会被计入任何一个对象的 Retained Size，只有当对象被删除后不可访问的情况下才会被计算为 Retained Size。VisualVM 内存分析工具使用这个概念来帮助分析哪些对象可能导致内存泄漏：如果某个对象的 <strong>Retained Size</strong> 很大，但 <strong>Size</strong> 很小，说明这个对象的引用链很长且重要，有可能导致内存泄漏。</p>
</blockquote>
<p><em>上面的<code>Class Filter</code>可以过滤出想要看的类。</em></p>
<p>然后因为同一种对象在不同的位置的size和retiained都是在VisualVM合并展示的，所以有必要看是哪些对象引用了这个类型的对象。上图中下方的<code>References</code>就是看具体哪些地方在引用这些对象，其展示的<code>reference</code>字符的含义如下：</p>
<p>比如<code>java.util.concurrent.ConcurrentHashMap$Node#479 1 (0%)</code></p>
<ul>
<li><strong><code>java.util.concurrent.ConcurrentHashMap$Node</code></strong>：对象的类名，表示这个对象是 <code>ConcurrentHashMap</code> 内部的一个静态类 <code>Node</code> 的实例。<em>（  <code>ConcurrentHashMap</code> 的实现中，<code>Node</code> 是一个静态内部类，通常用于表示一个链表节点，包含键值对和指向下一个节点的指针。）</em></li>
<li><strong><code>#479</code></strong>：对象的哈希码（<code>hash code</code>）的十进制形式表示，由 <code>Object</code> 类的 <code>hashCode()</code> 方法生成。在 VisualVM 中，哈希码用于唯一标识内存中某个对象的实例。</li>
<li><strong><code>1</code></strong>：对象的实例数量，表示当前对象的实例数量是 <code>1</code>，即在这种情况下，<code>1</code> 表示在内存中只有一个该类型的对象实例被引用到。</li>
<li><strong><code>(0%)</code></strong>：对象占用的内存比例，<code>(0%)</code> 表示这个对象的实例所占用的内存非常少，相对于所有内存中对象的占比为 <code>0%</code>。</li>
</ul>
<p>内存泄漏的特点：当size本身不大而占用量Retained却很大时，往往就是内存泄漏的常见现象。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="实战示例">实战示例<a href="#实战示例" class="hash-link" aria-label="实战示例的直接链接" title="实战示例的直接链接">​</a></h4>
<p>运行如下代码：</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">java</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">util</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">concurrent</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">LinkedBlockingQueue</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">java</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">util</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">concurrent</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">ThreadPoolExecutor</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">java</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">util</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">concurrent</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">TimeUnit</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @author liufei</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 测试threadLocal内存泄漏</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 01:固定6个线程，每个线程持有一个变量</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 按理来说会有 6 * 5 = 30M内存无法回收，其余的在set方法中覆盖了。</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ThreadLocalOutOfMemoryTest</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">LocalVariable</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//总共有5M</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">byte</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> locla </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">byte</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// (1)创建了一个核心线程数和最大线程数为 6 的线程池，这个保证了线程池里面随时都有 6 个线程在运行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token class-name">ThreadPoolExecutor</span><span class="token plain"> poolExecutor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">TimeUnit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">MINUTES</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">LinkedBlockingQueue</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// (2)创建了一个 ThreadLocal 的变量，泛型参数为 LocalVariable，LocalVariable 内部是一个 Long 数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain">       </span><span class="token class-name">ThreadLocal</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">LocalVariable</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> localVariable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">ThreadLocal</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">throws</span><span class="token plain"> </span><span class="token class-name">InterruptedException</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// (3)向线程池里面放入 50 个任务</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">++</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            poolExecutor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Runnable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token annotation punctuation" style="color:#393A34">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// (4)   往threadLocal变量设置值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token class-name">LocalVariable</span><span class="token plain"> localVariable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">LocalVariable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// 会覆盖</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token class-name">ThreadLocalOutOfMemoryTest</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">localVariable</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">localVariable</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// (5) 手动清理ThreadLocal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;thread name end：&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token class-name">Thread</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">currentThread</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;, value:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token class-name">ThreadLocalOutOfMemoryTest</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">localVariable</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// ThreadLocalOutOfMemoryTest.localVariable.remove();</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">Thread</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// (6)是否让key失效，都不影响。只要持有的线  程存在，都无法回收。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//ThreadLocalOutOfMemoryTest.localVariable = null;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;pool execute over&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>然后heap dump可以看到，如下结果</p>
<div style="text-align:center;width:100%"><img src="/analysis-project/img/jvm/jvm-6.png" alt="image" style="max-width:82%;height:auto;display:block;margin:0 auto"></div>
<p><code>java.lang.ThreadLocal$ThreadLocalMap 9 (0%) 216 B (0%) 31,472,000 B (86.6%)</code>，一个<code>ThreadLocalMap</code>本身占用的空间size很小，但是却占据极高的<code>retained</code>，这就是内存溢出的征兆。<em>这里<code>retained</code>超过100%，是因为前4个的线程相关的对象是包含引用的，而且上面的<code>byte[]</code>数组本身就是占用内存的对象，因为其相互一层层包含，所以其<code>retained</code>占比加起来超过了100%</em>。</p>
<p><strong>也可以切换视图，查看以实例为统计的分布</strong></p>
<p>下图里的<code>aggregation</code>里的package：按包汇总、classes：按类汇总和instances：按实例汇总</p>
<div style="text-align:center;width:100%"><img src="/analysis-project/img/jvm/jvm-8.png" alt="image" style="max-width:82%;height:auto;display:block;margin:0 auto"></div>
<p>在按示例的汇总里，并且在上一层中的<code>summary</code>中也可以看到一下数据统计，<code>Dominator by Retained Size</code> 就是哪些类引用占用了大量的空间。</p>
<div style="text-align:center;width:100%"><img src="/analysis-project/img/jvm/jvm-7.png" alt="image" style="max-width:82%;height:auto;display:block;margin:0 auto"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="分析metaspace数据">分析metaspace数据<a href="#分析metaspace数据" class="hash-link" aria-label="分析metaspace数据的直接链接" title="分析metaspace数据的直接链接">​</a></h3>
<p>JVM的MetaSpace存储类的元信息，而且是在堆外存储，在JDK8之后，永久代被彻底地移出了JVM，取而代之的是元空间MetaSpace，把类的元数据放到本地化的堆内存native heap中，这块区域就叫Metaspace，所以使用上面的转储文件是不能分析加载的类的信息的。</p>
<p><strong>metaspace需要关注是因为其也会引发metaspace oom而导致应用假死或退出[metaspace oom](#metaspace oom)</strong>。</p>
<p>metaspace数据包含以下内容：</p>
<ol>
<li><strong>类元数据（Class Metadata）</strong>
<ul>
<li>类信息：包括类的名称、访问修饰符、父类、接口、字段、方法等。</li>
<li>方法信息：方法的签名、方法体（编译后的字节码），包括方法的参数和返回值类型等。</li>
<li>字段信息：类字段的名称、类型、修饰符等。</li>
</ul>
</li>
<li><strong>方法区信息（Method Area Metadata）</strong>
<ul>
<li>常量池：类常量池存储了类字节码中用到的所有常量，包括字符串字面量、类和方法引用等。</li>
<li>运行时常量池：在方法区中，存储了每个类的运行时常量池，用于支持方法调用和常量引用。</li>
</ul>
</li>
<li><strong>类加载器信息（ClassLoader Metadata）</strong>
<ul>
<li>类加载器实例：包括每个类加载器的信息，跟踪每个加载器加载的类及其相关资源。</li>
<li>类加载器的双亲委派模型信息**：描述类加载器的层次结构和委派关系。</li>
</ul>
</li>
<li><strong>JVM 内部数据结构</strong>
<ul>
<li>Reflection 数据：用于支持 Java 反射 API 的数据结构，包括反射获取的类、方法、字段信息等。</li>
<li>类数据结构：类的内部表示，包括类的各种数据结构和状态信息。</li>
</ul>
</li>
<li><strong>动态生成的类</strong>：通过 JDK 动态代理或 CGLIB 生成的动态代理类。这些代理类的字节码和元数据也存储在 Metaspace 中。</li>
<li><strong>其他元数据</strong>：比如注解信息，用于支持 Java 注解的元数据，包括注解的定义和其应用位置。</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="分析类加载的数据">分析类加载的数据<a href="#分析类加载的数据" class="hash-link" aria-label="分析类加载的数据的直接链接" title="分析类加载的数据的直接链接">​</a></h4>
<ol>
<li>
<p>jstat -class &lt;pid&gt;，这个方法可以看到加载类的空间占用
比如：</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">jstat </span><span class="token parameter variable" style="color:#36acaa">-class</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">91776</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Loaded  Bytes  Unloaded  Bytes     Time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token number" style="color:#36acaa">452</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">1135.2</span><span class="token plain">        </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">0.00</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Loaded</strong>: 已加载的类的数量。</li>
<li><strong>Bytes</strong>: 已加载类的字节数。</li>
<li><strong>Unloaded</strong>: 已卸载的类的数量。</li>
<li><strong>Time</strong>: 类加载或卸载操作所用的时间。</li>
<li><strong>Compiled</strong>: 已编译的方法数。</li>
</ul>
</li>
<li>
<p>arthas memory
arthas工具中的<code>memory</code>命令查看 JVM 内存信息。其中可以看到metaspace的占用统计</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Memory                           used      total      max        usage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">heap                             32M       256M       4096M      </span><span class="token number" style="color:#36acaa">0.79</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g1_eden_space                    11M       68M        </span><span class="token parameter variable" style="color:#36acaa">-1</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">16.18</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g1_old_gen                       17M       184M       4096M      </span><span class="token number" style="color:#36acaa">0.43</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">g1_survivor_space                4M        4M         </span><span class="token parameter variable" style="color:#36acaa">-1</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">100.00</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nonheap                          35M       39M        </span><span class="token parameter variable" style="color:#36acaa">-1</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">89.55</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">codeheap_</span><span class="token string" style="color:#e3116c">&#x27;non-nmethods&#x27;</span><span class="token plain">          1M        2M         5M         </span><span class="token number" style="color:#36acaa">20.53</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metaspace                        26M       27M        </span><span class="token parameter variable" style="color:#36acaa">-1</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">96.88</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">codeheap_</span><span class="token string" style="color:#e3116c">&#x27;profiled_nmethods&#x27;</span><span class="token plain">     4M        4M         117M       </span><span class="token number" style="color:#36acaa">3.57</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">compressed_class_space           2M        3M         1024M      </span><span class="token number" style="color:#36acaa">0.29</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">codeheap_</span><span class="token string" style="color:#e3116c">&#x27;non-profiled_nmethods&#x27;</span><span class="token plain"> 685K      2496K      120032K    </span><span class="token number" style="color:#36acaa">0.57</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mapped                           0K        0K         -          </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">%</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">direct                           48M       48M        -          </span><span class="token number" style="color:#36acaa">100.00</span><span class="token plain">%</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>arthas classloader
arthas <code>classloader</code> 命令可以将 JVM 中所有的 classloader 的信息统计出来，这样可以看到每个加载器加载的类，特别是能看道所有的加载类。</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ classloader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> name                                       numberOfInstances  loadedCountTotal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> com.taobao.arthas.agent.ArthasClassloader  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">                  </span><span class="token number" style="color:#36acaa">2115</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> BootstrapClassLoader                       </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">                  </span><span class="token number" style="color:#36acaa">1861</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> sun.reflect.DelegatingClassLoader          </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">                  </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> sun.misc.Launcher</span><span class="token variable" style="color:#36acaa">$AppClassLoader</span><span class="token plain">           </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">                  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> sun.misc.Launcher</span><span class="token variable" style="color:#36acaa">$ExtClassLoader</span><span class="token plain">           </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">                  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Affect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">row-cnt:5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> cost </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> ms.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>-l </code>可以看到统计数据中classloader的父加载器，<code>-t</code> 参数能看到classloader的父子层级关系
<strong><code>classloader -a</code>，能查看所有加载的类，但内容会非常的多，注意输出的位置</strong></p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arthas@58950</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">$ classloader </span><span class="token parameter variable" style="color:#36acaa">-a</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> hash:null, BootstrapClassLoader</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Ljdk.internal.vm.FillerArray</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">D</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">I</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">J</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Lcom.sun.org.apache.xerces.internal.impl.XMLScanner</span><span class="token variable" style="color:#36acaa">$NameType</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Lcom.sun.org.apache.xerces.internal.util.Status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Ljava.io.File</span><span class="token variable" style="color:#36acaa">$PathStatus</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Ljava.lang.Class</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Ljava.lang.ClassLoader</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Ljava.lang.ClassValue</span><span class="token variable" style="color:#36acaa">$Entry</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Ljava.lang.OutOfMemoryError</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Ljava.lang.ProcessImpl</span><span class="token variable" style="color:#36acaa">$LaunchMechanism</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 。。。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在 <code>classloader -a</code> 输出中，类名中包含标识（如 <code>Proxy</code>、<code>$Proxy</code>、<code>EnhancerByCGLIB</code> 等）的类就是代理生成的类。以及带<code>$ </code>符号的类，其表示内部类、匿名类或某些特殊的编译时生成的类。特别是当metaspace oom往往就是代理类生成了类导致的metaspace空间飙升。
你可以使用 classloader -l 命令列出每个类加载器加载的具体类，结合类名的模式来判断是否是代理类。
上面看到加载的类后，可以使用<code>classloader -u</code>可以看到不同类加载器加载了哪些包，</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arthas@60213</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">$ classloader </span><span class="token parameter variable" style="color:#36acaa">-u</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> jdk.internal.loader.ClassLoaders</span><span class="token variable" style="color:#36acaa">$AppClassLoader</span><span class="token plain">@4e0e2f2a, hash:4e0e2f2a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Used URLs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> jrt:/jdk.jshell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> file:/Users/liufei/devtools/apache-maven-3.9.8/repo/cglib/cglib/3.3.0/cglib-3.3.0.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Unused URLs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> file:/Users/liufei/devtools/apache-maven-3.9.8/repo/com/alibaba/fastjson/2.0.52/fastjson-2.0.52.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> com.taobao.arthas.agent.ArthasClassloader@6f57b693, hash:6f57b693</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Used URLs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> file:/Users/liufei/devtools/arthas-packaging-3.7.2-bin/arthas-core.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Unused URLs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> jdk.internal.loader.ClassLoaders</span><span class="token variable" style="color:#36acaa">$PlatformClassLoader</span><span class="token plain">@11aa3480, hash:11aa3480</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Used URLs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> jrt:/jdk.crypto.cryptoki</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> jrt:/java.xml.crypto</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Unused URLs:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>然后使用<code>classloader -c &lt;加载器hashcode&gt;</code>来查看具体加载器加载的包和类文件。</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arthas@60213</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">$ classloader </span><span class="token parameter variable" style="color:#36acaa">-c</span><span class="token plain"> 4e0e2f2a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">file:/Users/liufei/code/Junit5-Test/target/classes/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">file:/Users/liufei/devtools/apache-maven-3.9.8/repo/com/bpodgursky/jbool_expressions/1.23/jbool_expressions-1.23.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">file:/Applications/IntelliJ%20IDEA.app/Contents/lib/idea_rt.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">file:/Users/liufei/Library/Caches/JetBrains/IntelliJIdea2024.1/captureAgent/debugger-agent.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">file:/Users/liufei/devtools/arthas-packaging-3.7.2-bin/arthas-agent.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">。。。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Affect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">row-cnt:34</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> cost </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> ms.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>注意大量的字符串使用 intern() 方法会导致方法区（Metaspace）内存占用增加，和其他一些常量池中的数据
这样通过metaspace的数据统计和具体加载器和加载类以及分析常量数据，结合代码，大致就能定位metaspace oom的问题是哪里引起的。</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="metaspace-oom">Metaspace OOM<a href="#metaspace-oom" class="hash-link" aria-label="Metaspace OOM的直接链接" title="Metaspace OOM的直接链接">​</a></h4>
<p>Metaspace OOM会导致应用程序假死或者进程退出</p>
<ol>
<li>
<p>应用程序假死（Hang）：
当 Metaspace 耗尽内存并触发 OutOfMemoryError: Metaspace 错误时，应用程序中的所有尝试加载新类或生成新类的操作都会失败。这些失败可能会导致程序中一些线程卡住，因为这些线程可能在等待某些资源（例如类加载器锁）而无法继续。随着越来越多的线程出现类似的阻塞，应用程序可能会逐渐进入假死状态，即使它并没有完全停止。</p>
</li>
<li>
<p>进程退出（Crash）：
在大多数情况下，<strong>当 JVM 抛出 OutOfMemoryError: Metaspace 异常时，它会尝试继续运行</strong>，但如果此异常被传播到一个关键的地方（例如类加载器的初始化代码或其他关键组件中），那么 JVM 可能会因为无法继续正常操作而崩溃（Crash）。在这种情况下，Java 进程会直接退出。</p>
<p><strong>典型的触发场景包括：</strong></p>
<ul>
<li>动态类生成过多（如使用动态代理、大量反射等）。</li>
<li>大量使用第三方库，导致类加载过多。</li>
<li>使用自定义类加载器频繁加载和卸载类，而卸载的类没有及时被回收。</li>
<li>应用中的内存泄漏，特别是类加载器的内存泄漏，这可能会导致卸载的类无法被垃圾回收器清理。</li>
</ul>
<p><strong>如何处理 Metaspace OOM</strong></p>
<ol>
<li>调整 Metaspace 大小： <code>-XX:MetaspaceSize</code>和 <code>-XX:MaxMetaspaceSize</code> 来调整 Metaspace 的初始和最大大小。确保最大大小足够大以容纳应用的需求。</li>
<li>减少类加载：尽量减少不必要的类加载，优化应用代码和依赖库的使用，减少不必要的类或接口的创建。</li>
<li>使用类缓存：在动态生成类的场景下（例如动态代理等），可以考虑对生成的类进行缓存，避免重复生成相同的类。</li>
<li>避免类加载器泄漏：尽量避免类加载器泄漏，特别是在 Web 应用服务器环境下（如 Tomcat、Jetty 等），要确保类加载器和类之间的引用能正确清理。</li>
</ol>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="分析gc日志">分析gc日志<a href="#分析gc日志" class="hash-link" aria-label="分析gc日志的直接链接" title="分析gc日志的直接链接">​</a></h3>
<p>分析jvm 的gc情况，不是先看gc日志，而是看gc的数量和分布：<code>young gc</code>、<code>old gc</code>、<code>full gc</code>分布是怎么样的，各发生了多少次，一般都有监控工具，可以直观看到。gc日志是更近一步的排查手段。</p>
<p>以下是执行的代码</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">package</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">org</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">liufei</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">junit5</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">test</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token namespace" style="opacity:0.7">gc</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">java</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">util</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">Random</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">java</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">util</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">concurrent</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">TimeUnit</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token import namespace" style="opacity:0.7">java</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">util</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">concurrent</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import namespace" style="opacity:0.7">atomic</span><span class="token import namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token import class-name">LongAdder</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 演示GC日志生成与解读，参考：https://juejin.cn/post/7029130033268555807</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * jdk21 jvm参数：</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * -Xmx512m -Xms512m  -Xlog:gc*,gc+heap=debug,gc+ref=debug:file=gc.log:tags,uptime,time,level:filecount=5,filesize=10M</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * gc+heap=debug：指定了与 gc 和 heap 相关的日志消息，并将它们的级别设置为 debug。这意味着不仅会记录基本的 GC 信息，还会记录与堆内存管理（heap memory management）相关的详细调试信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * gc+ref=debug： 指定了与 gc 和 ref（引用处理）相关的日志消息，并将其级别设置为 debug。这会包括诸如弱引用、软引用、虚引用和终结器（finalizer）处理等细节信息。</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * file=gc.log： 指定将日志输出到文件 gc.log。</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * tags,uptime,time,level：</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *  	tags: 日志条目的标签（如 gc、heap 等）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *  	uptime: JVM 启动以来的时间（相对时间）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *  	time: 绝对时间戳，表示日志条目产生的具体时间。</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *  	level: 日志级别（如 info、debug、warning 等）。</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * filecount=5： 指定最多保留 5 个日志文件。启用日志轮转（rolling）。当日志文件数量超过这个值时，最旧的文件将被删除。</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * filesize=10M：指定每个日志文件的最大大小为 10 MB。当一个日志文件达到 10 MB 时，会开始写入下一个日志文件。</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> *</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * @author liufei</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> **/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">GCLogAnalysis</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token class-name">Random</span><span class="token plain"> random </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 当前毫秒时间戳</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> startMillis </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">currentTimeMillis</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 持续运行毫秒数; 可根据需要进行修改</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> timeoutMillis </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">TimeUnit</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">SECONDS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toMillis</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 结束时间戳</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">long</span><span class="token plain"> endMillis </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> startMillis </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> timeoutMillis</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">LongAdder</span><span class="token plain"> counter </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">LongAdder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;正在执行...&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 缓存一部分对象; 进入老年代</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> cacheSize </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">Object</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> cachedGarbage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">cacheSize</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 在此时间范围内,持续循环</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">currentTimeMillis</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> endMillis</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// 生成垃圾对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">Object</span><span class="token plain"> garbage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generateGarbage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">100</span><span class="token operator" style="color:#393A34">*</span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            counter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">increment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> randomIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">nextInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> cacheSize</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">randomIndex </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> cacheSize</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                cachedGarbage</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">randomIndex</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> garbage</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;执行结束!共生成对象次数:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> counter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">longValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 生成对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generateGarbage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> max</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> randomSize </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">nextInt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> randomSize </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">Object</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">randomSize</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">byte</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">randomSize</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">randomSize</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token class-name">StringBuilder</span><span class="token plain"> builder </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">StringBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token class-name">String</span><span class="token plain"> randomString </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;randomString-Anything&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">builder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">length</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> randomSize</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    builder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">randomString</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    builder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    builder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">randomSize</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> builder</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>因为gc日志依赖于使用的gc收集器，其gc过程实现不同，所以不同的gc器会有不同的日志，下面展示两种：适用于小内存jvm的SerialGC，和适用于大内存jvm的G1GC</p>
<p>以下是一个完整的gc周期，日志输出：</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-xxuseserialgc">-XX:+UseSerialGC<a href="#-xxuseserialgc" class="hash-link" aria-label="-XX:+UseSerialGC的直接链接" title="-XX:+UseSerialGC的直接链接">​</a></h4>
<p>SerialGC小型jvm用的多，但gc停顿时间长</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.773+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.851s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,start       </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Pause Full </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Allocation Failure</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.774+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.851s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Heap before GC </span><span class="token assign-left variable" style="color:#36acaa">invocations</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5983</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">full </span><span class="token number" style="color:#36acaa">5974</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.774+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.851s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  def new generation   total 157248K, used 157246K </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007e0000000, 0x00000007eaaa0000, 0x00000007eaaa0000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.774+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.851s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   eden space 139776K, </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% used </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007e0000000, 0x00000007e8880000, 0x00000007e8880000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.774+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.851s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   from space 17472K,  </span><span class="token number" style="color:#36acaa">99</span><span class="token plain">% used </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007e9990000, 0x00000007eaa9f9c8, 0x00000007eaaa0000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.774+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.851s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   to   space 17472K,   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">% used </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007e8880000, 0x00000007e8880000, 0x00000007e9990000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.774+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.851s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  tenured generation   total 349568K, used 349567K </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007eaaa0000, 0x0000000800000000, 0x0000000800000000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.774+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.851s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    the space 349568K,  </span><span class="token number" style="color:#36acaa">99</span><span class="token plain">% used </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007eaaa0000, 0x00000007ffffffb0, 0x0000000800000000, 0x0000000800000000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.774+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.851s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  Metaspace       used 503K, committed 704K, reserved 1114112K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.774+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.851s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   class space    used 28K, committed 128K, reserved 1048576K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.774+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.851s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,phases,start</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Phase </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">: Mark live objects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.775+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.852s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,ref         </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Skipped SoftWeakFinalRefsPhase of Reference Processing: no references</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.775+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.852s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,ref         </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Skipped KeepAliveFinalRefsPhase of Reference Processing: no references</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.775+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.852s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,ref         </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Skipped PhantomRefsPhase of Reference Processing: no references</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.775+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.853s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,phases      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Phase </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">: Mark live objects </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">.084ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.775+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.853s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,phases,start</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Phase </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">: Compute new object addresses</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.775+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.853s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,phases      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Phase </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">: Compute new object addresses </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.592ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.775+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.853s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,phases,start</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Phase </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">: Adjust pointers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.776+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.854s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,phases      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Phase </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">: Adjust pointers </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.688ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.776+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.854s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,phases,start</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Phase </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">: Move objects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.785+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.863s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,phases      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Phase </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">: Move objects </span><span class="token number" style="color:#36acaa">9</span><span class="token plain">.317ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> DefNew: 157246K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">157248K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">13868K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">157248K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Eden: 139776K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">139776K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">13868K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">139776K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> From: 17470K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">17472K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">0K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">17472K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Tenured: 349567K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">349568K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">349386K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">349568K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,metaspace   </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Metaspace: 503K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">704K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">503K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">704K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> NonClass: 474K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">576K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">474K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">576K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Class: 28K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">128K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">28K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">128K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Heap after GC </span><span class="token assign-left variable" style="color:#36acaa">invocations</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5984</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">full </span><span class="token number" style="color:#36acaa">5975</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  def new generation   total 157248K, used 13868K </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007e0000000, 0x00000007eaaa0000, 0x00000007eaaa0000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   eden space 139776K,   </span><span class="token number" style="color:#36acaa">9</span><span class="token plain">% used </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007e0000000, 0x00000007e0d8b1e8, 0x00000007e8880000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   from space 17472K,   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">% used </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007e9990000, 0x00000007e9990000, 0x00000007eaaa0000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   to   space 17472K,   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">% used </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007e8880000, 0x00000007e8880000, 0x00000007e9990000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  tenured generation   total 349568K, used 349386K </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007eaaa0000, 0x0000000800000000, 0x0000000800000000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    the space 349568K,  </span><span class="token number" style="color:#36acaa">99</span><span class="token plain">% used </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007eaaa0000, 0x00000007fffd2b38, 0x00000007fffd2c00, 0x0000000800000000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  Metaspace       used 503K, committed 704K, reserved 1114112K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   class space    used 28K, committed 128K, reserved 1048576K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc             </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Pause Full </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Allocation Failure</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> 494M-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">354M</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">494M</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">.226ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.786+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.864s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,cpu         </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6578</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">User</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.01s </span><span class="token assign-left variable" style="color:#36acaa">Sys</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.00s </span><span class="token assign-left variable" style="color:#36acaa">Real</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.01s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T18:15:17.792+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">106</span><span class="token plain">.870s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,start       </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6579</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Pause Full </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Allocation Failure</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>GC 日志解析</strong></p>
<ol>
<li>
<p><strong>GC 启动信息</strong></p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T18:15:17.773+0800][106.851s][info ][gc,start       ] GC(6578) Pause Full (Allocation Failure)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>时间戳</strong>: <code>2024-08-30T18:15:17.773+0800</code></li>
<li><strong>相对时间</strong>: <code>106.851s</code>（JVM 启动后的时间）</li>
<li><strong>日志级别</strong>: <code>info</code></li>
<li><strong>GC ID</strong>: <code>GC(6578)</code>--6578就是gc的序号，单调递增，相同的GC ID就是同一个GC周期的日志</li>
<li><strong>GC 类型</strong>: <code>Pause Full</code>（完整的暂停式垃圾回  收）</li>
<li><strong>原因</strong>: <code>Allocation Failure</code>（由于内存分配失败触发的 GC）</li>
</ul>
</li>
<li>
<p><strong>GC 前堆内存状态</strong></p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T18:15:17.774+0800][106.851s][debug][gc,heap        ] GC(6578) Heap before GC invocations=5983 (full 5974):</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>堆内存状态</strong>: <code>5983</code>（堆内存的总大小）以及 <code>full 5974</code>（完全的堆内存使用情况）</li>
<li><strong>详细信息</strong>:</li>
<li><strong>年轻代（New Generation）</strong>:
<em>年轻代分为 Eden 区域和两个 Survivor 区域（From 和 To），这样是因为gc使用复制收集（Copying Collection）策略，减少标记和清除的复杂性。方便移动对象，并且每次垃圾回收只需要关注 Eden 区域的对象，并将幸存的对象从 Eden 区域复制到 From 区域，简化了回收过程。</em></li>
</ul>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GC(6578)  def new generation   total 157248K, used 157246K</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>总大小 <code>157248K</code>，已使用 <code>157246K</code>（几乎满了）</p>
<ul>
<li><strong>年轻代的 Eden 区域</strong>:
<em>Eden 是年轻代中的一个区域，主要用于分配新创建的对象。</em></li>
</ul>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GC(6578)   eden space 139776K, 100% used</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>总大小 <code>139776K</code>，已使用<code>100%</code></p>
<ul>
<li><strong>年轻代的 From 区域</strong>:</li>
</ul>
<p><em>From 区域（也称为 Survivor 区域之一）是年轻代中的一个区域，用于存储从 Eden 区域晋升的幸存对象，当 Eden 区域的垃圾回收发生时，Eden 中的幸存对象会被复制到 From 区域。From 区域的存在使得年轻代能够处理那些幸存了多次垃圾回收的对象，并将它们保留在年轻代中，直到它们晋升到老年代。</em></p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GC(6578)   from space 17472K,  99% used</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>总大小 <code>17472K</code>，已使用 <code>99%</code></p>
<ul>
<li><strong>年轻代的 To 区域</strong>:
<em>To 区域（也称为 Survivor 区域之二）是年轻代中的另一个区域，与 From 区域配对  使用。To 区域用于在垃圾回收过程中接收从 From 区域中的对象。每次垃圾回收时，From 和 To 区域会互换角色。To 区域的存在使得对象可以在 From 和 To 区域之间来回移动，直到它们被晋升到老年代。</em></li>
</ul>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GC(6578)   to   space 17472K,   0% used</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>总大小<code>17472K</code>，已使用 <code>0%</code>（空闲）</p>
<ul>
<li><strong>老年代（Tenured Generation）</strong>:</li>
</ul>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GC(6578)  tenured generation   total 349568K, used 349567K</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制 代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>总大小<code>349568K</code>，已使用<code>349567K</code>（几乎满了）</p>
<ul>
<li><strong>元空间（Metaspace）</strong>:</li>
</ul>
<div class="language-Tenured language-tenured codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tenured codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GC(6578)  Metaspace       used 503K, committed 704K, reserved 1114112K</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>已使用</strong>: <code>503K</code> -- <em>这个值是 JVM 已经使用来存储类和其他元数据的实际内存量。</em></li>
<li><strong>已提交</strong>: <code>704K</code> --<em>这个值表示 JVM 可以随时使用的内存量。这部分内存已经从操作系统获得，但可能还未全部使用。committed 用了避免频繁的去申请内存，如果还有救直接使用的内存，通常大于或等于 used。</em></li>
<li><strong>已保留</strong>: <code>1114112K</code> -- <em>表示 JVM 为 Metaspace 保留的最大内存量是 1114112 KB（即约 1 GB）。这个值表示 JVM 为未来使用而向操作系统申请的内存范围，实际上可能并未全部分配或使用。reserved 值限制了 Metaspace 可以扩展到的最大大小。</em></li>
</ul>
</li>
<li>
<p><strong>GC 各阶段时间</strong></p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T18:15:17.774+0800][106.851s][info ][gc,phases,start] GC(6578) Phase 1: Mark live objects</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>阶段</strong>:</li>
<li><strong>Phase 1: Mark live objects</strong>（标记存活对象）</li>
<li><strong>Phase 2: Compute new object addresses</strong>（计算新对象地址）</li>
<li><strong>Phase 3: Adjust pointers</strong>（调整指针）</li>
<li><strong>Phase 4: Move objects</strong>  （移动对象）</li>
<li><strong>阶段完成时间</strong>:<!-- -->
<ul>
<li><code>Phase 1: 1.084ms</code></li>
<li><code>Phase 2: 0.592ms</code></li>
<li><code>Phase 3: 0.688ms</code></li>
<li><code>Phase 4: 9.317ms</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>GC 后堆内存状态</strong></p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T18:15:17.786+0800][106.864s][info ][gc,heap        ] GC(6578) DefNew: 157246K(157248K)-&gt;13868K(157248K) Eden: 139776K(139776K)-&gt;13868K(139776K) From: 17470K(17472K)-&gt;0K(17472K)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T18:15:17.786+0800][106.864s][info ][gc,heap        ] GC(6578) Tenured: 349567K(349568K)-&gt;349386K(349568K)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T18:15:17.786+0800][106.864s][info ][gc,metaspace   ] GC(6578) Metaspace: 503K(704K)-&gt;503K(704K) NonClass: 474K(576K)-&gt;474K(576K) Class: 28K(128K)-&gt;28K(128K)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>年轻代（New Generation）</strong>:
之前: <code>157246K</code>（总大小） -&gt; <code>13868K</code>（已使用），Eden 区域 <code>139776K</code> -&gt; <code>13868K</code>，From 区域 <code>17470K</code> -&gt; <code>0K</code>，To 区域<code>0K</code>（未使用）</li>
<li><strong>老年代（Tenured Generation）</strong>:
之前<code>349567K</code>（已使用） -&gt; <code>349386K</code></li>
<li><strong>元空间（Metaspace）</strong>:
之前 <code>503K</code>（已使用） -&gt; <code>503K</code>，NonClass<code>474K</code> -&gt; <code>474K</code>，Class<code>28K</code> -&gt; <code>28K</code></li>
</ul>
</li>
<li>
<p><strong>GC 完成信息</strong></p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T18:15:17.786+0800][106.864s][info ][gc             ] GC(6578) Pause Full (Allocation Failure) 494M-&gt;354M(494M) 12.226ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>GC 类型</strong>: <code>Pause Full (Allocation Failure)</code></li>
<li><strong>堆内存变化</strong>: <code>494M</code> -&gt; <code>354M</code>（GC 之前和之后的堆内存使用量）</li>
<li><strong>GC 耗时</strong>: <code>12.226ms</code></li>
</ul>
</li>
<li>
<p><strong>GC CPU 时间</strong></p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T18:15:17.786+0800][106.864s][info ][gc,cpu         ] GC(6578) User=0.01s Sys=0.00s Real=0.01s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>用户时间: <code>0.01s</code>，系统时间: <code>0.00s</code>，实际时间: <code>0.01s</code></p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-xxuseg1gc">-XX:+UseG1GC<a href="#-xxuseg1gc" class="hash-link" aria-label="-XX:+UseG1GC的直接链接" title="-XX:+UseG1GC的直接链接">​</a></h4>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,start       </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Pause Young </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Normal</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">G1 Evacuation Pause</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Heap before GC </span><span class="token assign-left variable" style="color:#36acaa">invocations</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">20873</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">full </span><span class="token number" style="color:#36acaa">1980</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  garbage-first heap   total 524288K, used 489425K </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007e0000000, 0x0000000800000000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   region size 1024K, </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> young </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">1024K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> survivors </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">0K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  Metaspace       used 491K, committed 704K, reserved 1114112K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   class space    used 25K, committed 128K, reserved 1048576K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,task        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Using </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> workers of </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> evacuation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,ref         </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Skipped SoftWeakFinalRefsPhase of Reference Processing: no references</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,ref         </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Skipped KeepAliveFinalRefsPhase of Reference Processing: no references</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,ref         </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Skipped PhantomRefsPhase of Reference Processing: no references</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,phases      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   Pre Evacuate Collection Set: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.1ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,phases      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   Merge Heap Roots: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.0ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,phases      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   Evacuate Collection Set: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.1ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,phases      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   Post Evacuate Collection Set: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.2ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,phases      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   Other: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.0ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Eden regions: </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Survivor regions: </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Old regions: </span><span class="token number" style="color:#36acaa">352</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">353</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Humongous regions: </span><span class="token number" style="color:#36acaa">159</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">159</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,metaspace   </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Metaspace: 491K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">704K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">491K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">704K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> NonClass: 466K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">576K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">466K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">576K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Class: 25K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">128K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">25K</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">128K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Heap after GC </span><span class="token assign-left variable" style="color:#36acaa">invocations</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">20874</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">full </span><span class="token number" style="color:#36acaa">1980</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  garbage-first heap   total 524288K, used 490173K </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">0x00000007e0000000, 0x0000000800000000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   region size 1024K, </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> young </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">0K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> survivors </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">0K</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  Metaspace       used 491K, committed 704K, reserved 1114112K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">debug</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,heap        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   class space    used 25K, committed 128K, reserved 1048576K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc             </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Pause Young </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Normal</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">G1 Evacuation Pause</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Evacuation Failure</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> 478M-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">478M</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">512M</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.537ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,cpu         </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22681</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">User</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.00s </span><span class="token assign-left variable" style="color:#36acaa">Sys</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.00s </span><span class="token assign-left variable" style="color:#36acaa">Real</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain">.00s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,ergo        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Attempting full compaction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2024</span><span class="token plain">-08-30T19:17:13.979+0800</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">34</span><span class="token plain">.531s</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">info </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">gc,start       </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> GC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">22682</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> Pause Full </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">G1 Compaction Pause</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这个 GC 周期中 G1 垃圾收集器进行的年轻代 GC（回收 Eden 区域），并且由于回收操作失败，年轻代的使用量没有减少。之后，系统尝试进行全堆压缩操作以优化内存使用。下面是细节解释：</p>
<ol>
<li>
<p>GC 事件启动</p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,start       ] GC(22681) Pause Young (Normal) (G1 Evacuation Pause)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>GC(22681)</strong>: 这是当前的 GC 事件的 ID。
<strong>Pause Young (Normal) (G1 Evacuation Pause)</strong>: 这是 GC 的类型和原因。在 G1 GC 中，“Pause Young” 表示这是一个年轻代垃圾收集，而“G1 Evacuation Pause”表示这是一个用于回收年轻代的暂停事件，进行的是 G1 GC 的回收操作。</p>
</li>
<li>
<p>GC 前的堆内存状态</p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][debug][gc,heap        ] GC(22681) Heap before GC invocations=20873 (full 1980):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][debug][gc,heap        ] GC(22681)  garbage-first heap   total 524288K, used 489425K [0x00000007e0000000, 0x0000000800000000]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][debug][gc,heap        ] GC(22681)   region size 1024K, 1 young (1024K), 0 survivors (0K)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][debug][gc,heap        ] GC(22681)  Metaspace       used 491K, committed 704K, reserved 1114112K</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][debug][gc,heap        ] GC(22681)   class space    used 25K, committed 128K, reserved 1048576K</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Heap before GC</strong>: GC 之前的堆内存状态。</li>
<li><strong>garbage-first heap</strong>: 使用的垃圾优先 (G1) 堆的总大小为 524,288K (512MB)，已使用 489,425K。</li>
<li><strong>region size 1024K</strong>: 堆的区域大小是 1MB。</li>
<li><strong>1 young (1024K), 0 survivors (0K)</strong>: 年轻代中有 1 个区域（总计 1MB），没有幸存者区。</li>
<li><strong>Metaspace</strong>: 元空间的状态。已使用 491K，已提交 704K，保留 1,114,112K。</li>
</ul>
</li>
<li>
<p>GC 任务</p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,task        ] GC(22681) Using 8 workers of 8 for evacuation</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Using 8 workers of 8 for evacuation</strong>: 在此次 GC 事件中，G1 GC 使用了 8 个工作线程进行垃圾回收。</p>
</li>
<li>
<p>GC 阶段</p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,phases      ] GC(22681)   Pre Evacuate Collection Set: 0.1ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,phases      ] GC(22681)   Merge Heap Roots: 0.0ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,phases      ] GC(22681)   Evacuate Collection Set: 0.1ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,phases      ] GC(22681)   Post Evacuate Collection Set: 0.2ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,phases      ] GC(22681)   Other: 0.0ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Pre Evacuate Collection Set</strong>: GC 前的集合准备阶段，耗时 0.1ms。</li>
<li><strong>Merge Heap Roots</strong>: 合并堆根阶段，耗时 0.0ms。</li>
<li><strong>Evacuate Collection Set</strong>: 实际的区域回收阶段，耗时 0.1ms。</li>
<li><strong>Post Evacuate Collection Set</strong>: 回收后的清理阶段，耗时 0.2ms。</li>
<li><strong>Other</strong>: 其他时间，耗时 0.0ms。</li>
</ul>
</li>
<li>
<p>GC 后的堆内存状态</p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,heap        ] GC(22681) Eden regions: 1-&gt;0(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,heap        ] GC(22681) Survivor regions: 0-&gt;0(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,heap        ] GC(22681) Old regions: 352-&gt;353</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,heap        ] GC(22681) Humongous regions: 159-&gt;159</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Eden regions</strong>: 年轻代中的 Eden 区域从 1 个减少到 0 个。</li>
<li><strong>Survivor regions</strong>: 年轻代中的幸存者区域从 0 个减少到 0 个。</li>
<li><strong>Old regions</strong>: 年老代中的区域从 352 个增加到 353 个。</li>
<li><strong>Humongous regions</strong>: 大对象区域 (Humongous regions) 从 159 个保持不变。</li>
</ul>
</li>
<li>
<p>GC 后的 Metaspace 状态</p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,metaspace   ] GC(22681) Metaspace: 491K(704K)-&gt;491K(704K) NonClass: 466K(576K)-&gt;466K(576K) Class: 25K(128K)-&gt;25K(128K)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Metaspace</strong>: GC 后元空间的使用情况。元空间总共使用 491K，提交 704K，保留 1,114,112K。类空间的使用情况也列出，其中类空间的使用量从 25K 不变。</p>
</li>
<li>
<p>GC 总体信息</p>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc             ] GC(22681) Pause Young (Normal) (G1 Evacuation Pause) (Evacuation Failure) 478M-&gt;478M(512M) 0.537ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,cpu         ] GC(22681) User=0.00s Sys=0.00s Real=0.00s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,ergo        ] Attempting full compaction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[2024-08-30T19:17:13.979+0800][34.531s][info ][gc,start       ] GC(22682) Pause Full (G1 Compaction Pause)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>Pause Young (Normal)</strong>: 年轻代 GC 类型，G1 Evacuation Pause。</li>
<li><strong>(Evacuation Failure)</strong>: 表示回收操作失败。</li>
<li><strong>478M-&gt;478M(512M)</strong>: GC 前后堆的使用情况，分别是 478MB，堆的总大小为 512MB。由于此次 GC 的回收失败，堆的使用量没有减少。</li>
<li><strong>0.537ms</strong>: GC 操作的持续时间。</li>
<li><strong>GC(22681) User=0.00s Sys=0.00s Real=0.00s</strong>: GC 操作的 CPU 使用时间和实际时间。</li>
<li><strong>Attempting full compaction</strong>: 尝试进行完全压缩。</li>
<li><strong>Pause Full (G1 Compaction Pause)</strong>: 全停顿类型的 GC，G1 完全压缩暂停。</li>
</ul>
</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Swagger-Ranger/analysis-project/docs/DevOps/JVM数据分析.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/analysis-project/docs/DevOps/Linux系统探测工具"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Linux系统探测工具</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/analysis-project/docs/DevOps/Harbor手册"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Harbor</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#分析堆内存数据" class="table-of-contents__link toc-highlight">分析堆内存数据</a><ul><li><a href="#实战示例" class="table-of-contents__link toc-highlight">实战示例</a></li></ul></li><li><a href="#分析metaspace数据" class="table-of-contents__link toc-highlight">分析metaspace数据</a><ul><li><a href="#分析类加载的数据" class="table-of-contents__link toc-highlight">分析类加载的数据</a></li><li><a href="#metaspace-oom" class="table-of-contents__link toc-highlight">Metaspace OOM</a></li></ul></li><li><a href="#分析gc日志" class="table-of-contents__link toc-highlight">分析gc日志</a><ul><li><a href="#-xxuseserialgc" class="table-of-contents__link toc-highlight">-XX:+UseSerialGC</a></li><li><a href="#-xxuseg1gc" class="table-of-contents__link toc-highlight">-XX:+UseG1GC</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Analysis Project, author liufei32@outlook.com</div></div></div></footer></div>
</body>
</html>