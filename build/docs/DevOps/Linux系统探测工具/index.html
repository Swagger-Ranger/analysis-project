<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-DevOps/Linux系统探测工具" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Linux系统探测工具 | Analysis Project</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://Swagger-Ranger.github.io/analysis-project/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://Swagger-Ranger.github.io/analysis-project/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://Swagger-Ranger.github.io/analysis-project/docs/DevOps/Linux系统探测工具"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Linux系统探测工具 | Analysis Project"><meta data-rh="true" name="description" content="在工作中，常常需要去巡检服务和定位问题、或者优化性能瓶颈，此时就需要在服务器上面去排查问题。这里针对服务运行在Linux环境下，展示Linux的系统排查工具，特别是对排查服务性能是非常好的工具。"><meta data-rh="true" property="og:description" content="在工作中，常常需要去巡检服务和定位问题、或者优化性能瓶颈，此时就需要在服务器上面去排查问题。这里针对服务运行在Linux环境下，展示Linux的系统排查工具，特别是对排查服务性能是非常好的工具。"><link data-rh="true" rel="icon" href="/analysis-project/img/apachecassandra-color.svg"><link data-rh="true" rel="canonical" href="https://Swagger-Ranger.github.io/analysis-project/docs/DevOps/Linux系统探测工具"><link data-rh="true" rel="alternate" href="https://Swagger-Ranger.github.io/analysis-project/docs/DevOps/Linux系统探测工具" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://Swagger-Ranger.github.io/analysis-project/docs/DevOps/Linux系统探测工具" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/analysis-project/blog/rss.xml" title="Analysis Project RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/analysis-project/blog/atom.xml" title="Analysis Project Atom Feed"><link rel="stylesheet" href="/analysis-project/assets/css/styles.460af289.css">
<script src="/analysis-project/assets/js/runtime~main.aa2fc351.js" defer="defer"></script>
<script src="/analysis-project/assets/js/main.34cc3d81.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/analysis-project/"><div class="navbar__logo"><img src="/analysis-project/img/apachecassandra-color.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/analysis-project/img/apachecassandra-color.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/analysis-project/docs/projectDesign/whatIs">All for analysis</a><a class="navbar__item navbar__link" href="/analysis-project/docs/middleware/disruptor">Middlewares</a><a class="navbar__item navbar__link" href="/analysis-project/docs/category/juc">Codes</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/analysis-project/docs/DevOps/JavaOptimizing">DevOps</a><a class="navbar__item navbar__link" href="/analysis-project/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/analysis-project/about">关于作者</a><a href="https://github.com/Swagger-Ranger/analysis-project" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/analysis-project/docs/DevOps/JavaOptimizing">Java optimizing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/analysis-project/docs/DevOps/Linux系统探测工具">Linux系统探测工具</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/analysis-project/docs/DevOps/JVM数据分析">JVM数据分析</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/analysis-project/docs/DevOps/Harbor手册">Harbor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/analysis-project/docs/DevOps/容器中的日志">容器中的日志</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/analysis-project/docs/DevOps/空白环境Jenkins流水线搭建">空白环境Jenkins流水线搭建</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/analysis-project/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Linux系统探测工具</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Linux系统探测工具</h1></header><p>在工作中，常常需要去巡检服务和定位问题、或者优化性能瓶颈，此时就需要在服务器上面去排查问题。这里针对服务运行在Linux环境下，展示Linux的系统排查工具，特别是对排查服务性能是非常好的工具。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="系统探测工具">系统探测工具<a href="#系统探测工具" class="hash-link" aria-label="系统探测工具的直接链接" title="系统探测工具的直接链接">​</a></h3>
<div style="text-align:center;width:100%"><img src="/analysis-project/img/devops/linux-0.png" alt="image" style="max-width:72%;height:auto;display:block;margin:0 auto"></div>
<p>如上图Linux系统工具有非常多，这里就写几个常用的，我感觉这几个在日常工作中频率高而且基本够用。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="uptime">uptime<a href="#uptime" class="hash-link" aria-label="uptime的直接链接" title="uptime的直接链接">​</a></h4>
<p><code>uptime</code> 是一个简单的命令行工具，常用于查看系统运行时间、当前时间、系统登录的用户数量以及系统负载情况。它通常作为系统监控和性能分析的一部分，提供了快速了解系统运行状态的手段。</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">uptime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token plain">:32:12 up </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> days,  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">:45,  </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> users,  load average: </span><span class="token number" style="color:#36acaa">0.15</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">0.10</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">0.08</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>结果解析</p>
<ol>
<li>
<p><strong><code>14:32:12</code></strong>：输出的第一部分是当前系统的时间。</p>
</li>
<li>
<p><strong><code>up 10 days, 4:45</code></strong>：系统运行时间，<code>10 days</code> 表示系统已经连续运行了 10 天，<code>4:45</code> 表示从最后一次重启到现在的时间是 4 小时 45 分钟。</p>
</li>
<li>
<p><strong><code>3 users</code></strong>：当前登录到系统的用户数量，有 3 个用户正在使用这个系统。</p>
</li>
<li>
<p><strong><code>load average: 0.15, 0.10, 0.08</code></strong>：系统负载平均值： 1 分钟、5 分钟和 15 分钟的平均负载。系统负载反映的是系统忙碌程度，<strong>通常为正在处理和等待处理的进程数。如果数字接近或超过 CPU 核心的数量（如单核的负载超过 1，双核的负载超过 2），则可能表示系统资源紧张</strong>。</p>
</li>
</ol>
<blockquote>
<p>负载平均值:系统中可运行的任务数量的平均值。它是一个衡量系统压力的指标，负载值为 1 表示系统的所有资源正好被完全利用。如果该值为 0.5，则表示系统只有一半的资源在使用；而如果该值超过 1.0，则意味着系统有更多的任务在等待资源。</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="top">top<a href="#top" class="hash-link" aria-label="top的直接链接" title="top的直接链接">​</a></h4>
<p><code>top</code> 是一个实时动态查看系统进程的命令行工具，展示的是当前系统的快照，可以显示系统中正在运行的进程、内存使用情况、CPU使用情况等信息。</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">top</span><span class="token plain"> - </span><span class="token number" style="color:#36acaa">15</span><span class="token plain">:32:14 up  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">:15,  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> users,  load average: </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">0.01</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">0.05</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tasks: </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"> total,   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> running, </span><span class="token number" style="color:#36acaa">122</span><span class="token plain"> sleeping,   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> stopped,   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> zombie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%Cpu</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">:  </span><span class="token number" style="color:#36acaa">0.3</span><span class="token plain"> us,  </span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain"> sy,  </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain"> ni, </span><span class="token number" style="color:#36acaa">99.5</span><span class="token plain"> id,  </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain"> wa,  </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain"> hi,  </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain"> si,  </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain"> st</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KiB Mem </span><span class="token builtin class-name">:</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">2048040</span><span class="token plain"> total,  </span><span class="token number" style="color:#36acaa">1028036</span><span class="token plain"> free,   </span><span class="token number" style="color:#36acaa">473324</span><span class="token plain"> used,   </span><span class="token number" style="color:#36acaa">548680</span><span class="token plain"> buff/cache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KiB Swap:  </span><span class="token number" style="color:#36acaa">2097148</span><span class="token plain"> total,  </span><span class="token number" style="color:#36acaa">2097148</span><span class="token plain"> free,        </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> used.  </span><span class="token number" style="color:#36acaa">1412932</span><span class="token plain"> avail Mem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  PID </span><span class="token environment constant" style="color:#36acaa">USER</span><span class="token plain">      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">2321</span><span class="token plain"> user1     </span><span class="token number" style="color:#36acaa">20</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1440016</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">62512</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">46192</span><span class="token plain"> S   </span><span class="token number" style="color:#36acaa">0.3</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">3.1</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">:01.00 gnome-shell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">1004</span><span class="token plain"> user1     </span><span class="token number" style="color:#36acaa">20</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">659704</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">21388</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">17152</span><span class="token plain"> S   </span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">:00.20 Xorg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>命令的输出是分成了两部分：系统当前状态信息、和实时的进程信息</p>
<blockquote>
<p>进程列表通常是按 <strong>CPU 使用率</strong> (<code>%CPU</code>) 进行排序的，使用 CPU 最多的进程会出现在列表的顶部。这个默认设置使用户能够快速识别系统中哪些进程正在占用最多的 CPU 资源。</p>
<p>因为命令是实时交互式的，所以可以：</p>
<p><strong>排序</strong>：</p>
<ul>
<li>按 <code>M</code> 键：会按 <strong>内存使用率</strong> (<code>%MEM</code>) 进行排序，使用最多内存的进程会出现在顶部。</li>
<li>按 <code>P</code> 键：按 <strong>CPU 使用率</strong> (<code>%CPU</code>) 进行排序，这通常是默认的排序方式。</li>
<li>按 <code>T</code> 键：按 <strong>运行时间</strong> (<code>TIME+</code>) 进行排序，运行时间最长的进程会在顶部。</li>
<li>按 <code>N</code> 键：按 <strong>进程 ID</strong> (<code>PID</code>) 进行排序。</li>
</ul>
<p><strong>终止进程</strong>：按 <code>k</code>  键，然后输入要终止的进程 ID (PID)。</p>
<p><strong>显示进程树</strong>：按 <code>V</code> 键，可以看到进程树。</p>
<p><strong>过滤进程</strong>：按 <code>o</code> 键可以对显示的进程进行过滤，例如 <code>COMMAND=java</code> 只显示 Java 进程。</p>
<p><strong>退出</strong>：按 <code>q</code> 键退出 <code>top</code> 命令界面。</p>
</blockquote>
<p><strong>系统当前状态信息</strong></p>
<ol>
<li>
<p><code>top - 15:32:14 up  2:15,  2 users,  load average: 0.00, 0.01, 0.05</code>，这样行是系统概要信息，和<code>uptime</code>的输出含义是一样的。</p>
</li>
<li>
<p><code>Tasks: 123 total,   1 running, 122 sleeping,   0 stopped,   0 zombie</code>，显示系统中的任务/进程的总数，以及正在运行、睡眠、停止、僵尸状态的进程数量。</p>
</li>
<li>
<p><code>%Cpu(s):  0.3 us,  0.2 sy,  0.0 ni, 99.5 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</code>，cpu使用率</p>
</li>
</ol>
<p><code>us</code>：用户态 CPU 时间百分比（用户进程消耗的 CPU 时间）。</p>
<p><code>sy</code>：系统态 CPU 时间百分比（内核进程消耗的 CPU 时间）。</p>
<p><code>ni</code>：用户进程通过 nice 调整优先级后的 CPU 时间百分比。</p>
<p><code>id</code>：空闲 CPU 时间百分比。</p>
<p><code>wa</code>：等待 I/O 操作的 CPU 时间百分比。</p>
<p><code>hi</code>：硬件中断消耗的 CPU 时间百分比。</p>
<p><code>si</code>：软件中断消耗的 CPU 时间百分比。</p>
<p><code>st</code>：虚拟机偷取的 CPU 时间百分比。</p>
<ol start="4">
<li>
<p><code>KiB Mem :  2048040 total,  1028036 free,   473324 used,   548680 buff/cache</code>，物理内存的使用情况，包括总量、已使用、空闲、缓冲区和缓存。</p>
</li>
<li>
<p><code>KiB Swap:  2097148 total,  2097148 free,        0 used.  1412932 avail Mem</code>，交换分区的使用情况，包括总量、已使用、空闲以及交换缓存。</p>
</li>
</ol>
<p><strong>实时进 程信息</strong></p>
<ul>
<li>
<p>PID：进程 ID。</p>
</li>
<li>
<p>USER：进程所有者的用户名。</p>
</li>
<li>
<p>PR：进程的优先级。 -- <em><code>PR</code> = 20 + <code>NI</code>，<code>PR</code> 值越小，调度优先级越高，操作系统会更频繁地调度这个进程获得的cpu时间就越多，越小获得的cpu时间就越少，一般是20，就是NI一般为0，加20就是PR值</em></p>
</li>
<li>
<p>NI：进程的 nice 值（影响优先级）。-- <em>范围 <code>-20到19</code>，Nice 值越小优先级越高，-20就是最高优先级，一般是0</em></p>
</li>
<li>
<p>VIRT：进程使用的虚拟内存总量。</p>
</li>
<li>
<p>RES：进程使用的物理内存量（驻留内存）。</p>
</li>
<li>
<p>SHR：进程使用的共享内存量。</p>
</li>
<li>
<p>S：进程的状态（R：运行，S：睡眠，D：不可中断的睡眠，Z：僵尸进程，T：停止）。</p>
</li>
<li>
<p>%CPU：进程使用的 CPU 时间百分比。</p>
</li>
<li>
<p>%MEM：进程使用的内存百分比。</p>
</li>
<li>
<p>TIME+：进程使用的 CPU 时间总和。</p>
</li>
<li>
<p>COMMAND：进程启动的命令或路径。</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vmstat">vmstat<a href="#vmstat" class="hash-link" aria-label="vmstat的直接链接" title="vmstat的直接链接">​</a></h4>
<p><code>vmstat</code>是个丰富而强大的系统工具</p>
<p>语法：<code>vmstat [-V] [-n] [delay [count]]</code></p>
<p>-V：显示vmstat版本信息。
-n：只在开始时显示一次各字段名称。
-a：显示活跃和非活跃内存
-d：显示磁盘相关统计信息。
-p：显示指定磁盘分区统计信息。
-s：显示内存相关统计信息及多种系统活动数量。
-m：显示slabinfo
-S：使用指定单位显示。参数有 k 、K 、m 、M ，分别代表1000、1024、1000000、1048576字节（byte）。默认单位为K（1024 bytes）
-f：显示从系统启动至今的fork数量 。</p>
<p>delay：刷新时间间隔。
count：刷新  次数。如果不指定刷新次数，但指定了刷新时间间隔，这时刷新次数为无穷。</p>
<div class="language-tex codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-tex codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@liufei ~]# vmstat 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">procs -----------memory---------------- ---swap-- -----io---- --system-- -----cpu-----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> r  b      swpd  free   buff   cache      si   so    bi    bo   in cs   us sy id wa st</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0      0 233481328 758304 20795516    0    0     0     1    0    0  0  0 100  0  0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0      0 233480800 758304 20795520    0    0     0     0  951 1519  0  0 100  0  0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0      0 233481056 758304 20795520    0    0     0     0  867 1460  0  0 100  0  0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0      0 233481408 758304 20795520    0    0     0    20  910 1520  0  0 100  0  0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0      0 233481680 758304 20795520    0    0     0     0  911 1491  0  0 100  0  0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0  0      0 233481920 758304 20795520    0    0     0     0  889 1530  0  0 100  0  0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>需要着重注意的指标，我加粗了</em></p>
<p>procs（进程信息）:</p>
<ul>
<li><strong>r</strong>: 表示运行队列数即等待运行的进程数，即当前等待 CPU 处理的进程数。</li>
<li><strong>b</strong>: 表示阻塞的进程即正在等待资源（例如 I/O 操作）的进程数。</li>
</ul>
<p>memory（内存信息）:</p>
<ul>
<li>swpd: 已使用的交换空间即虚拟内存的大小（以 KB 为单位）。--<a href="#%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98">虚拟内存</a></li>
<li>free: 空闲内存的大小（以 KB 为单位）。</li>
<li>buff: 用作缓冲区的内存大小（以 KB 为单位）--<em>临时存储写入到磁盘的数据。这是一块内存区域，用来存放即将写入磁盘的数据，以减少直接的磁盘写操作。这样，操作系统可以将多个写入操作合并为一次，以提高磁盘的写入效率</em>。</li>
<li>cache: 用作缓存的内存大小（以 KB 为单位）--<em>存储从磁盘中读取的数据。操作系统使用缓存来存储最近访问过的数据块，以便在下次访问这些数据时可以直接从内存中获取，而不必再次访问磁盘，从而加快数据读取速度。</em></li>
</ul>
<p>swap（交换区信息）: --<em>swap中的数值很大，说明内存不够，在频繁发生内存交换，而这会影响性能</em></p>
<ul>
<li><strong>si</strong>: 从磁盘中交换到内存的数量（以 KB 为单位）--<em>每秒钟发生的交换量</em>。</li>
<li><strong>so</strong>: 从内存交换到磁盘的数量（以 KB 为单位）。</li>
</ul>
<p>io（磁盘 I/O 信息）:</p>
<ul>
<li>bi: 块设备的输入块数量（以块为单位）--<em>每秒钟的数据量</em>。</li>
<li>bo: 块设备的输出块数量（以块为单位）。</li>
</ul>
<p>system（系统信息）:</p>
<ul>
<li>in: 每秒中断的数量，包括时钟中断。--<a href="#%E4%B8%AD%E6%96%AD">中断</a></li>
<li><strong>cs</strong>: 每秒上下文切换的数量。-- <em>每秒上下文切换次数，比如系统调用，线程的切换。上下文切换次数过多表示你的CPU大部分浪费在上下文切换，导致CPU干正经事的时间少了，CPU没有充分利用。</em></li>
</ul>
<p>cpu（CPU 信息）:</p>
<ul>
<li><strong>us</strong>: 用户进程（非内核进程）消耗的 CPU 时间百分比。-- <em>在虚拟化的环境中，这个指标可能会不准，会超过100%</em></li>
<li><strong>sy</strong>: 内核进程消耗的 CPU 时间百分比。-- <em>如果太高，表示系统调用时间长，例如是IO操作频繁。</em></li>
<li>id: CPU 空闲时间百分比。-- <em>一般来说，<code>id + us + sy = 100</code>。</em></li>
<li><strong>wa</strong>: 等待 I/O 操作完成的时间百分比。 --<em>如果很高，就说明io性能瓶颈，导致了cpu处于io等待中</em></li>
<li>st: 被虚拟机偷取的 CPU 时间百分比 --<a href="#CPU%E6%97%B6%E9%97%B4%E5%81%B7%E5%8F%96">CPU时间偷取</a></li>
</ul>
<p>可以看到上面的指标都是作了分类，将影响性能的维度分类就有下面4个：</p>
<ul>
<li>
<p>CPU（cpu性能很大一部分决定了系统整体的性能）</p>
</li>
<li>
<p>procs.r持续有值，且大于系统CPU数量，则认为系统不足以支撑当前的负载（因为一直有进程在等待运行），可能是软件实现问题或者需要升级硬件系统</p>
</li>
<li>
<p>cpu.id(cpu idle时间)持续为0,表示CPU持续忙，需要根据cpu.sy,cpu.us继续查找原因</p>
</li>
<li>
<p>cpu.sy,cpu.us持续高，且cpu.sy大于cpu.us表示系统频繁在内核态执行，可能存在频繁的或较多的系统调用或者IO访问</p>
</li>
<li>
<p>内存（物理内存不够时会使用交换内存，使用swap会带来磁盘io和cpu的开销）</p>
</li>
<li>
<p>memory.swpd数值持续有值，说明系统内存不足且使用了虚拟内存，需要加大内存。</p>
</li>
<li>
<p>IO-硬盘（存储系统）</p>
</li>
<li>
<p>小文件读写瓶颈是磁盘的寻址（tps），大文件读写的性能瓶颈是带宽</p>
</li>
<li>
<p>Linux可以利用空闲内存作文件系统访问的cache，因此系统内存越大存储系统的性能也越好</p>
</li>
<li>
<p>IO-网络带宽</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="iostat">iostat<a href="#iostat" class="hash-link" aria-label="iostat的直接链接" title="iostat的直接链接">​</a></h4>
<p><code>iostat</code> 是一个属于 <code>sysstat</code> 包下的监控IO和CPU使用情况的工具，它提供了一个持续的磁盘活动视图。</p>
<p>语法：<code>iostat [options] [interval] [count]</code></p>
<ul>
<li>
<p><code>options</code>：扩展参数，比如：-x就是扩展统计信息</p>
</li>
<li>
<p><code>interval</code>：指定输出更新的时间间隔（以秒为单位）。</p>
</li>
<li>
<p><code>count</code>：指定输出的次数。</p>
</li>
</ul>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@fc2a648b9c4c:/</span><span class="token comment" style="color:#999988;font-style:italic"># iostat 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linux </span><span class="token number" style="color:#36acaa">5.10</span><span class="token plain">.104-linuxkit </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fc2a648b9c4c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> 	06/20/24 	_aarch64_	</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">avg-cpu:  %user   %nice %system %iowait  %steal   %idle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token number" style="color:#36acaa">0.10</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">0.09</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">0.01</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">99.79</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Device             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vda               </span><span class="token number" style="color:#36acaa">1.81</span><span class="token plain">        </span><span class="token number" style="color:#36acaa">19.82</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">110.17</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">2770.58</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">418435</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">2326260</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">58502892</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>加粗的就是需要关注的指标</em></p>
<p><strong>CPU 使用情况</strong></p>
<p>这些字段显示CPU的使用情况，以百分比表示。</p>
<ul>
<li><code>%user</code>：CPU在用户空间的使用百分比（不包括内核空间）。</li>
<li><code>%system</code>：CPU在内核空间的使用百分比。</li>
<li><strong><code>%iowait</code></strong>：CPU在等待I/O操作完成的时间百分比。</li>
<li><code>%idle</code>：CPU处于空闲状态的时间百分比。</li>
<li><code>%steal</code>：虚拟化环境中，被虚拟机监控程序窃取的CPU时间百分比（在虚拟机中使用时）。</li>
</ul>
<p><strong>设备I/O</strong></p>
<p>这些字段显示各个存储设备的I/O统计数据。</p>
<ul>
<li><code>Device</code>：设备名称。 --<em>这个是按磁盘区分了的，可以看到每块磁盘各自的数据</em></li>
<li><strong><code>tps</code></strong>：每秒传输的I/O请求次数（transfers per second），即每秒的磁盘事务数。</li>
<li><strong><code>kB_read/s</code></strong>：每秒读取的数据量（以KB为单位）。</li>
<li><strong><code>kB_wrtn/s</code></strong>：每秒写入的数据量（以KB为单位）。</li>
<li><code>kB_read</code>：自系统启动以来读取的总数据量（以KB为单位）。</li>
<li><code>kB_wrtn</code>：自系统启动以来写入的总数据量（以KB为单位）。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="netstat">netstat<a href="#netstat" class="hash-link" aria-label="netstat的直接链接" title="netstat的直接链接">​</a></h4>
<p><code>netstat</code> 是一个网络统计工具，用于显示网络连接、路由表、接口统计、伪网络设备和网络协议的统计信息。工具在<code>net-tools</code>包下面，安装的命令是<code>apt install net-tools</code>。</p>
<p>语法：<code>netstat [options]</code></p>
<p>Options:</p>
<p><code>-a</code> 或 <code>--all</code>：显示所有的网络连接和监听的端口。</p>
<p><code>-t</code> 或 <code>--tcp</code>：显示TCP连接。</p>
<p><code>-u</code> 或 <code>--udp</code>：显示UDP连接。</p>
<p><code>-l</code> 或 <code>--listening</code>：仅显示正在监听的端口。</p>
<p><code>-p</code> 或 <code>--program</code>：显示使用每个连接的程序的进程ID（PID）和名称。</p>
<p><code>-n</code> 或 <code>--numeric</code>：以数字形式显示地址和端口号，避免主机名和服务名解析。</p>
<p><code>-r</code> 或 <code>--route</code>：显示路由表。</p>
<p><code>-i</code> 或 <code>--interfaces</code>：显示网络接口列表及其统计信息。</p>
<p><code>-s</code> 或 <code>--statistics</code>：显示网络协议的统计信息。</p>
<p><code>-e</code> 或 <code>--extend</code>：显示额外的网络接口统计信息。</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">#netstat -a</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Proto Recv-Q Send-Q Local Address           Foreign Address         State</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tcp        </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.0.0:22              </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain">.0.0:*               LISTEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tcp6       </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> :::80                   :::*                    LISTEN</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>输出的是系统中的开放端口和活跃服务。</p>
<blockquote>
<p><code>Proto</code>：协议类型（TCP或UDP）。</p>
<p><code>Recv-Q</code>：接收队列中的字节数（待处理数据）。</p>
<p><code>Send-Q</code>：发送队列中的字节数（等待确认数据）。</p>
<p><code>Local Address</code>：本地地址和端口。</p>
<p><code>Foreign Address</code>：远程地址和端口。</p>
<p><code>State</code>（仅TCP连接）：连接的当前状态（如 <code>ESTABLISHED</code>、<code>LISTENING</code>、<code>CLOSE_WAIT</code> 等）。</p>
</blockquote>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">netstat</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-an</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-c</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;:80&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><code>-a</code>: 显示所有连接和监听端口。</p>
</li>
<li>
<p><code>-n</code>: 以数字形式显示地址和端口号，而不是尝试解析为主机名和服务名称。</p>
</li>
<li>
<p><code>grep -c</code>: 计算匹配的行数。</p>
</li>
</ul>
<p>输出的是特定端口的链接数，这个特别有用，因为可以快速知道特定服务的负载。</p>
<blockquote>
<p>netstat 还有其他参数和返回数据含义，这里没有写。。。</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sar">sar<a href="#sar" class="hash-link" aria-label="sar的直接链接" title="sar的直接链接">​</a></h4>
<p><code>sar</code>（System Activity Reporter）也是属于 <code>sysstat</code> 工具集的一个强大的系统性能监控和报告工具，<code>sar</code> 可以提供有关 CPU 负载、内存使用、I/O 活动、网络流量等的详细报告，虽然这些指标其他命令也能提供，但sar有个特别的地方在于其可以保存历史数据，这使得其能使用在需要长期监控和日志分析的场景中。</p>
<p><strong>查看cpu</strong></p>
<p><code>sar -u 1 5</code>  查看cpu，每隔 1 秒记录一次，持续 5 次</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@fc2a648b9c4c:/</span><span class="token comment" style="color:#999988;font-style:italic"># sar -u 1 5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linux </span><span class="token number" style="color:#36acaa">5.10</span><span class="token plain">.104-linuxkit </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fc2a648b9c4c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> 	06/20/24 	_aarch64_	</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:47:18        CPU     %user     %nice   %system   %iowait    %steal     %idle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:47:19        all      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.25</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">99.75</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:47:20        all      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.25</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">99.75</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:47:21        all      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">100.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:47:22        all      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">100.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:47:23        all      </span><span class="token number" style="color:#36acaa">0.50</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.25</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">99.25</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Average:        all      </span><span class="token number" style="color:#36acaa">0.10</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.15</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">99.75</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>查看内存</strong></p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@fc2a648b9c4c:/</span><span class="token comment" style="color:#999988;font-style:italic"># sar -r 1 5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linux </span><span class="token number" style="color:#36acaa">5.10</span><span class="token plain">.104-linuxkit </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fc2a648b9c4c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> 	06/20/24 	_aarch64_	</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:47:30    kbmemfree   kbavail kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:47:31      </span><span class="token number" style="color:#36acaa">4945136</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">6876480</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">595464</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">7.41</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">74416</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">2255132</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">3447340</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">37.93</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">442952</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">2412448</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:47:32      </span><span class="token number" style="color:#36acaa">4945136</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">6876480</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">595456</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">7.41</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">74416</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">2255132</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">3447340</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">37.93</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">442952</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">2412448</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:47:33      </span><span class="token number" style="color:#36acaa">4945168</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">6876512</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">595424</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">7.41</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">74416</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">2255132</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">3447340</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">37.93</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">442952</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">2412448</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:47:34      </span><span class="token number" style="color:#36acaa">4945168</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">6876512</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">595424</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">7.41</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">74416</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">2255132</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">3447340</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">37.93</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">442952</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">2412448</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:47:35      </span><span class="token number" style="color:#36acaa">4945168</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">6876512</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">595424</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">7.41</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">74416</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">2255132</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">3447340</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">37.93</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">442952</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">2412448</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Average:      </span><span class="token number" style="color:#36acaa">4945155</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">6876499</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">595438</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">7.41</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">74416</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">2255132</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">3447340</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">37.93</span><span class="token plain">    </span><span class="token number" style="color:#36acaa">442952</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">2412448</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><code>kbmemfree</code>：系统当前未使用的空闲内存量，单位是 KB (Kilobytes)。反映系统可用的物理内存。如果值较大，表示系统有较多的可用内存。</p>
</li>
<li>
<p><code>kbavail</code>： 近似估算系统中实际可用的内存（包括缓存和缓冲区的可释放内存），单位是 KB。这是用户可用的内存量，通常比 <code>kbmemfree</code> 更能反映系统的实际内存情况，因为它考虑了可释放的缓存和缓冲。</p>
</li>
<li>
<p><code>kbmemused</code>：系统已使用的内存量，单位是 KB。反映系统目前正在使用的物理内存。</p>
</li>
<li>
<p><strong><code>%memused</code></strong>：系统已使用的内存百分比。计算公式: <code>%memused = (kbmemused / (kbmemused + kbmemfree)) * 100</code>。这是一个总体的内存使用率指标，表示系统的内存负载。</p>
</li>
<li>
<p><code>kbbuffers</code>：用于缓冲区缓存的内存量，单位是 KB。缓冲区缓存用于临时存储文件系统操作的数据（例如，读写操作的元数据）。较高的缓冲区内存表明系统频繁地与存储设备进行交互。</p>
</li>
<li>
<p><strong><code>kbcached</code></strong>：用于页缓存的内存量，单位是 KB。页缓存用于缓存磁盘上的数据文件，较高的缓存量表明系统可能在重用之前读取过的数据，从而减少对磁盘的访问。</p>
</li>
<li>
<p><code>kbcommit</code>：提交到虚拟内存中的内存量，单位是 KB。这表示系统中所有任务当前提交的虚拟内存总量，可能包括交换分区中的内存。</p>
</li>
<li>
<p><strong><code>%commit</code></strong>：提交的虚拟内存占系统总内存的百分比。该值越高，表示系统分配的虚拟内存越多，可能需要依赖交换分区（swap）来满足内存需求。</p>
</li>
<li>
<p><code>kbactive</code>：目前在使用中的内存量，单位是 KB。反映活跃使用的内存量，通常是操作系统核心和运行的进程正在使用的内存。</p>
</li>
<li>
<p><code>kbinact</code>：当前不活跃的内存量，单位是 KB。这些内存区域中存储的内容可能不再频繁使用，但仍然保留在内存中，以备将来可能的访问。</p>
</li>
<li>
<p><strong><code>kbdirty</code></strong>： 需要写回到磁盘的数据量，单位是 KB。 这部分内存包含已修改但尚未同步回磁盘的数据。较高的 数值可能意味着系统有较多的数据需要写入磁盘。</p>
</li>
</ul>
<p><strong>查看cpu队列数</strong></p>
<p><a href="#cpu%E9%98%9F%E5%88%97">cpu队列</a>，是cpu调度机制的一部分，反映了系统在特定时刻有多少进程在等待 CPU 资源。</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@fc2a648b9c4c:/</span><span class="token comment" style="color:#999988;font-style:italic"># sar -q 1 5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linux </span><span class="token number" style="color:#36acaa">5.10</span><span class="token plain">.104-linuxkit </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fc2a648b9c4c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> 	06/20/24 	_aarch64_	</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">18</span><span class="token plain">:46:27      runq-sz  plist-sz   ldavg-1   ldavg-5  ldavg-15   blocked</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">18</span><span class="token plain">:46:28            </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">549</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.02</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.03</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">18</span><span class="token plain">:46:29            </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">550</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.02</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.03</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">18</span><span class="token plain">:46:30            </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">550</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.02</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.03</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">18</span><span class="token plain">:46:31            </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">550</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.02</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.03</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">18</span><span class="token plain">:46:32            </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">550</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.02</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.03</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Average:            </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">       </span><span class="token number" style="color:#36acaa">550</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.02</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.03</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">         </span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><code>runq-sz</code> (运行队列大小)：当前运行队列中的进程数量。运行队列是指那些已经准备好运行，但由于 CPU 忙碌而在等待执行的进程。队列长度越大，通常表明系统的负载越高。</p>
</li>
<li>
<p><code>plist-sz</code> (进程列表大小)：当前存在的进程和线程的总数。这个数字包括所有状态的进程，不仅仅是正在运行的进程。比如：在上面输出中，<code>plist-sz</code> 稳定在 549 或 550，表示系统中有大约 550 个进程或线程存在。</p>
</li>
<li>
<p><code>ldavg-1</code> (1 分钟平均负载)：表示系统在过去 1 分钟的平均负载。平均负载不仅包括正在运行的进程，还包括等待运行的进程。比如：在上面输出中，<code>ldavg-1</code> 大约为 0.02，表明系统在最近 1 分钟的负载非常低。</p>
</li>
<li>
<p><code>ldavg-5</code> (5 分钟平均负载)</p>
</li>
<li>
<p><code>ldavg-15</code> (15 分钟平均负载)</p>
</li>
<li>
<p><code>blocked</code> (被阻塞的进程数量)：正在等待 I/O 操作完  成的进程数。如果这个数字较大，可能表示 I/O 子系统存在瓶颈。比如在上面输出中，<code>blocked</code> 始终为 0，表明没有进程被 I/O 操作阻塞。</p>
</li>
</ul>
<p><strong>查看IO</strong></p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@fc2a648b9c4c:/</span><span class="token comment" style="color:#999988;font-style:italic"># sar -b 1 5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linux </span><span class="token number" style="color:#36acaa">5.10</span><span class="token plain">.104-linuxkit </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fc2a648b9c4c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> 	06/20/24 	_aarch64_	</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:48:05          tps      rtps      wtps      dtps   bread/s   bwrtn/s   bdscd/s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:48:06         </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:48:07         </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:48:08         </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:48:09         </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:48:10         </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Average:         </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><code>tps</code> (Transfers per Second)：每秒发生的 I/O 传输次数。每次 I/O 传输对应一次数据块的读或写操作。如果 <code>tps</code> 较高，表示系统在短时间内处理了大量的读写操作，可能是高负载的信号。</p>
</li>
<li>
<p><code>rtps</code> (Read Transfers per Second)： 每秒发生的读操作传输次数。 反映了系统从磁盘读取数据的频率。如果 <code>rtps</code> 较高，表示系统正在频繁地读取数据。</p>
</li>
<li>
<p><code>wtps</code> (Write Transfers per Second)：每秒发生的写操作传输次数。反映了系统向磁盘写入数据的频率。如果 <code>wtps</code> 较高，表示系统正在频繁地写入数据。</p>
</li>
<li>
<p><code>dtps</code> (Discard Transfers per Second)：每秒丢弃的传输次数（即 TRIM 操作），通常与 SSD 设备相关，用于释放不再使用的块。显示了系统对 SSD 设备进行的 TRIM 操作的频率，通常在磁盘被大规模删除或清理时有所增加。</p>
</li>
<li>
<p><code>bread/s</code> (Blocks Read per Second)：每秒从设备读取的数据块数。显示了系统读取数据的总量，如果该值较高，表示系统正在大量读取数据。</p>
</li>
<li>
<p><code>bwrtn/s</code> (Blocks Written per Second)：每秒向设备写入的数据块数。显示了系统写入数据的总量，如果该值较高，表示系统正在大量写入数据。</p>
</li>
<li>
<p><code>bdscd/s</code> (Blocks Discarded per Second)：每秒丢弃的数据块数（与 <code>dtps</code> 对应）。反映了系统对块设备的 TRIM 操作频率，这通常在 SSD 设备上出现，用于优化存储性能。</p>
</li>
</ul>
<p><strong>查看网络接口</strong></p>
<blockquote>
<p>新建的机器，没有实际的运行数据</p>
</blockquote>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@fc2a648b9c4c:/</span><span class="token comment" style="color:#999988;font-style:italic"># sar -n DEV 1 5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Linux </span><span class="token number" style="color:#36acaa">5.10</span><span class="token plain">.104-linuxkit </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">fc2a648b9c4c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> 	06/20/24 	_aarch64_	</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> CPU</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:48:37        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:48:38           lo      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:48:38        tunl0      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:48:38      ip6tnl0      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:48:38         eth0      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s   %ifutil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Average:           lo      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Average:        tunl0      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Average:      ip6tnl0      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Average:         eth0      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><span class="token plain">      </span><span class="token number" style="color:#36acaa">0.00</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>lo</code>、<code>tunl0</code>、<code>ip6tnl0</code> 、<code>eth0</code> 对应的就是<a href="#%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3">网络接口</a>。</p>
<ul>
<li>
<p><code>IFACE</code> (Interface)：网络接口的名称，如 <code>lo</code>（回环接口）、<code>eth0</code>（以太网接口）</p>
</li>
<li>
<p><code>rxpck/s</code> (Received Packets per Second)：每秒接收到的数据包数量。反映了该接口每秒钟接收的数据包的频率。如果值较高，表示网络流量较大。</p>
</li>
<li>
<p><code>txpck/s</code> (Transmitted Packets per Second)：每秒发送的数据包数量。反映了该接口每秒钟发送的数据包的频率。如果值较高，表示网络流量较大。</p>
</li>
<li>
<p><code>rxkB/s</code> (Received Kilobytes per Second)：每秒接收到的字节数（以千字节为单位）。表示每秒接收到的数据量，反映了该接口的输入带宽使用情况。</p>
</li>
<li>
<p><code>txkB/s</code> (Transmitted Kilobytes per Second)：每秒发送的字节数（以千字节为单位）。表示每秒发送的数据量，反映了该接口的输出带宽使用情况。</p>
</li>
<li>
<p><code>rxcmp/s</code> (Compressed Packets Received per Second)：每秒接收到的压缩数据包的数量。通常用于支持压缩的网络接口，这个值显示压缩接收流量的频率。</p>
</li>
<li>
<p><code>txcmp/s</code> (Compressed Packets Transmitted per Second)：每秒发送的压缩数据包的数量。通常用于支持压缩的网络接口，这个值显示压缩发送流量的频率。</p>
</li>
<li>
<p><code>rxmcst/s</code> (Multicast Packets Received per Second)：每秒接收到的组播数据包的数量。显示通过该接口接收到的组播流量，组播是用于在网络中向多个接收者同时发送数据的一种技术。</p>
</li>
<li>
<p><code>%ifutil</code> (Interface Utilization Percentage)：网络接口的使用率，表示该接口相对于其最大带宽的使用百分比。如果该值接近 100%，意味着接口已经接近其最大处理能力，可能需要优化网络配置或扩展带宽。</p>
</li>
</ul>
<p><strong>sar系统监测</strong></p>
<p>如果要使用<code>sar</code>的历史监测功能，就必须打开<code>sar</code> 数据收集服务，其由 <code>sysstat</code> 服务管理。这个服务通常默认启动，并定期收集系统性能数据。</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl status sysstat</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>然后查看历史的监测数据才能看到数据</p>
<p>比如：<code>sar -s 09:00:00 -e 18:00:00</code>查看指定历史时间</p>
<p>一些<code>sar</code>命令参数：</p>
<ul>
<li>
<p><code>-s</code> 参数指定报告的起始时间。时间格式为 <code>HH:MM:SS</code>，</p>
</li>
<li>
<p><code>-e</code> 指定数据的结束时间</p>
</li>
<li>
<p><code>-f</code> ：从指定的文件中读取历史数据。默认情况下，<code>sar</code> 数据文件通常保存在 <code>/var/log/sa/</code> 目录中，文件名通常为 <code>sa&lt;dd&gt;</code>，其中 <code>&lt;dd&gt;</code> 表示日期，比如：<code>sar -f /var/log/sa/sa18</code></p>
</li>
<li>
<p><code>-i</code>： 设置采样的间隔时间，单位为秒。<code>sar -i 5 -s 09:00:00 -e 18:00:00</code></p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="基础概念">基础概念<a href="#基础概念" class="hash-link" aria-label="基础概念的直接链接" title="基础概念的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="虚拟内存">虚拟内存<a href="#虚拟内存" class="hash-link" aria-label="虚拟内存的直接链接" title="虚拟内存的直接链接">​</a></h4>
<p>在系统中运行的每个进程都需要使用到内存，但不是每个进程都需要每时每刻使用系统分配的内存空间。当系统运行所需内存超过实际的物理内存，内核会释放某些进程所占用但未使用的部分或所有物理内存，将这部分资料存储在磁盘上直到进程下一次调用，并将释放出的内存提供给有需要的进程使用。</p>
<p>在Linux内存管理中，主要是通过“调页Paging”和“交换Swapping”来完成上述的内存调度。调页算法是将内存中最近不常使用的页面换到磁盘上，把活动页面保留在内存中供进程使用。交换技术是将整个进程，而不是部分页面，全部交换到磁盘上。</p>
<p>分页(Page)写入磁盘的过程被称作Page-Out，分页(Page)从磁盘重新回到内存的过程被称作Page-In。当内核需要一个分页时，但发现此分页不在物理内存中(因为已经被Page-Out了)，此时就发生了分页错误（Page Fault）。</p>
<p>当系统内核发现可运行内存变少时，就会通过Page-Out来释放一部分物理内存。尽管Page-Out不是经常发生，但是如果Page-out频繁不断的发生，直到当内核管理分页的时间超过运行程式的时间时，系统性能会急剧下降。这时的系统已经运行非常慢或进入暂停状态，这种状态亦被称作thrashing(颠簸)</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cpu队列">cpu队列<a href="#cpu队列" class="hash-link" aria-label="cpu队列的直接链接" title="cpu队列的直接链接">​</a></h4>
<p>在 Linux 系统中，CPU队列（也称为运行队列<code>run queue</code>）是指那些准备好运行但当前没有CPU时间片可以执行的进程。这些进程已经过调度程序的调度，但因为 CPU 正在处理其他任务，它们必须等待一段时间才能获得 CPU 的执行机会。CPU 队列是由内核维护的一个列表，存放所有当前准备好运行但尚 未获得 CPU 执行的进程。当系统中的进程发出执行请求时，内核的调度程序会将它们放入这个队列中，并按照一定的调度算法决定何时将某个进程从队列中取出并分配给 CPU。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="中断">中断<a href="#中断" class="hash-link" aria-label="中断的直接链接" title="中断的直接链接">​</a></h4>
<p><strong>中断</strong> 是由硬件或软件生成的信号，用于引起处理器的注意，要求它暂停当前的执行流程，去处理更紧急的任务。中断可以由许多不同的事件触发，例如：</p>
<ul>
<li><strong>硬件中断</strong>：来自硬件设备的信号，比如键盘输入、网络数据包到达、磁盘I/O等。</li>
<li><strong>时钟中断</strong>：由系统时钟生成的定时中断，用于实现时间管理、任务调度等。</li>
<li><strong>软件中断</strong>：由软件请求或操作系统发出的中断，如系统调用等。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cpu时间偷取">CPU时间偷取<a href="#cpu时间偷取" class="hash-link" aria-label="CPU时间偷取的直接链接" title="CPU时间偷取的直接链接">​</a></h4>
<p>当你的操作系统运行在一个虚拟机中时，虚拟机管理程序会管理多个虚拟机的资源分配。有时候，虚拟机管理程序会把本该属于你的虚拟机的CPU时间分配给其他虚拟机来使用，这段时间就称为“steal time”。<code>st</code> 的值表示你的虚拟机因为这种资源分配导致的“CPU偷取时间”，用百分比表示。  当 <code>st</code> 值较高时，意味着你的虚拟机可能因为被其它虚拟机抢占了CPU时间而变得性能较差。这个情况在共享资源的虚拟化环境中特别明显。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="网络接口">网络接口<a href="#网络接口" class="hash-link" aria-label="网络接口的直接链接" title="网络接口的直接链接">​</a></h4>
<p>上面的命令返回中<code>lo</code>、<code>tunl0</code>、<code>ip6tnl0</code> 、<code>eth0</code> 都是网络接口，并不都是物理网卡。每个接口在系统中的作用不同：</p>
<ul>
<li><strong><code>lo</code> (Loopback Interface)</strong>：系统的回环接口，通常称为 &quot;本地主机&quot; 或 &quot;回环地址&quot;。用于自我通信。任何发送到 <code>lo</code> 接口的数据包都会被立即返回到本地主机，而不会离开机器。这通常用于测试和应用程序之间的本地通信。</li>
</ul>
<p>IP地址 通常绑定到 <code>127.0.0.1</code>，这是 IPv4 的回环地址。IPv6 的回环地址为 <code>::1</code>。</p>
<ul>
<li>
<p><strong><code>tunl0</code> (Tunnel Interface)</strong>：隧道接口，通常用于 IP-in-IP 隧道，将一个 IP 数据包封装在另一个 IP 数据包中的技术。允许不同的网络协议通过这个隧道传输数据。比如，在不同的网络之间建立一个安全通道，以便在互联网上传输数据。例如，使用 <code>IPSec</code> VPN 或其他隧道协议时，可能会使用这种接口。</p>
</li>
<li>
<p><strong><code>ip6tnl0</code> (IPv6 Tunnel Interface)</strong>： IPv6 的隧道接口，专门用于 IPv6-in-IPv4 的隧道。它用于将 IPv6 数据包封装在 IPv4 数据包中传输。在 IPv4 网络中传输 IPv6 数据包，主要用于 IPv4 和 IPv6 网络的互通。例如，两个仅支持 IPv6 的节点通过 IPv4 网络通信时，可能会使用这种接口。</p>
</li>
<li>
<p><strong><code>eth0</code> (Ethernet Interface 0)</strong>：典型的以太网接口，通常是物理网卡的表示，连接到物理网络（例如，LAN 或互联网）的接口。这是系统连接到外部网络或互联网的主要接口，在大多数计算机或服务器中，<code>eth0</code> 是默认的物理网卡接口。</p>
</li>
</ul>
<p>当然还有别的一下常见的网络接口：</p>
<ul>
<li><strong><code>wlan0</code> (Wireless LAN Interface)</strong>：无线网络接口 ，表示无线网络卡 (Wi-Fi)。</li>
<li><strong><code>docker0</code> (Docker Bridge Interface)</strong>：Docker 创建的默认桥接接口。用于连接和管理 Docker 容器之间的网络通信。<code>docker0</code> 将容器连接到主机网络，并允许容器之间的通信。</li>
<li><strong><code>br0</code> (Bridge Interface)</strong>：个桥接接口，用于将多个网络接口桥接到一起，使它们看起来像一个网络，实现多个物理或虚拟网络接口之间的通信。在虚拟化环境或需要将多个网络接口（如 <code>eth0</code>、<code>wlan0</code> 等）连接在同一网络中的场景中使用。</li>
<li>等等</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Swagger-Ranger/analysis-project/docs/DevOps/Linux系统探测工具.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/analysis-project/docs/DevOps/JavaOptimizing"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Java optimizing</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/analysis-project/docs/DevOps/JVM数据分析"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">JVM数据分析</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#系统探测工具" class="table-of-contents__link toc-highlight">系统探测工具</a><ul><li><a href="#uptime" class="table-of-contents__link toc-highlight">uptime</a></li><li><a href="#top" class="table-of-contents__link toc-highlight">top</a></li><li><a href="#vmstat" class="table-of-contents__link toc-highlight">vmstat</a></li><li><a href="#iostat" class="table-of-contents__link toc-highlight">iostat</a></li><li><a href="#netstat" class="table-of-contents__link toc-highlight">netstat</a></li><li><a href="#sar" class="table-of-contents__link toc-highlight">sar</a></li></ul></li><li><a href="#基础概念" class="table-of-contents__link toc-highlight">基础概念</a><ul><li><a href="#虚拟内存" class="table-of-contents__link toc-highlight">虚拟内存</a></li><li><a href="#cpu队列" class="table-of-contents__link toc-highlight">cpu队列</a></li><li><a href="#中断" class="table-of-contents__link toc-highlight">中断</a></li><li><a href="#cpu时间偷取" class="table-of-contents__link toc-highlight">CPU时间偷取</a></li><li><a href="#网络接口" class="table-of-contents__link toc-highlight">网络接口</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Analysis Project, author liufei32@outlook.com</div></div></div></footer></div>
</body>
</html>